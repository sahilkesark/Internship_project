{"ast":null,"code":"var _jsxFileName = \"/Users/sahil/Desktop/project1/frontend/src/pages/AssessmentPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ProgressBar from '../components/ProgressBar';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport PersonalDetailsForm from '../components/PersonalDetailsForm';\nimport PhysicalDetailsForm from '../components/PhysicalDetailsForm';\nimport EducationDetailsForm from '../components/EducationDetailsForm';\nimport OLQTestForm from '../components/OLQTestForm';\nimport { assessmentService, recommendationService } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AssessmentPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [assessmentId, setAssessmentId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const steps = ['Personal', 'Physical', 'Education', 'OLQ Test'];\n  const handlePersonalSubmit = async data => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await assessmentService.startAssessment(data);\n      setAssessmentId(response.assessment_id);\n      setCurrentStep(1);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Failed to start assessment');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePhysicalSubmit = async data => {\n    setLoading(true);\n    setError(null);\n    try {\n      await assessmentService.updatePhysical(assessmentId, data);\n      setCurrentStep(2);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || 'Failed to save physical details');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEducationSubmit = async data => {\n    setLoading(true);\n    setError(null);\n    try {\n      await assessmentService.updateEducation(assessmentId, data);\n      setCurrentStep(3);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || 'Failed to save education details');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleOLQSubmit = async (responses, sessionId) => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Submit OLQ responses with session_id\n      await assessmentService.submitOLQ({\n        assessment_id: assessmentId,\n        responses: responses\n      }, sessionId);\n\n      // Generate recommendations\n      const recommendation = await recommendationService.generateRecommendations(assessmentId);\n\n      // Navigate to recommendation page\n      navigate(`/recommendation/${recommendation.recommendation_id}`);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.detail) || 'Failed to generate recommendations');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8 max-w-4xl\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-center mb-8 text-gray-800\",\n        children: \"Career Assessment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n        currentStep: currentStep,\n        totalSteps: steps.length,\n        steps: steps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        message: \"Processing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [currentStep === 0 && /*#__PURE__*/_jsxDEV(PersonalDetailsForm, {\n          onSubmit: handlePersonalSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 35\n        }, this), currentStep === 1 && /*#__PURE__*/_jsxDEV(PhysicalDetailsForm, {\n          onSubmit: handlePhysicalSubmit,\n          onBack: handleBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(EducationDetailsForm, {\n          onSubmit: handleEducationSubmit,\n          onBack: handleBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this), currentStep === 3 && /*#__PURE__*/_jsxDEV(OLQTestForm, {\n          onSubmit: handleOLQSubmit,\n          onBack: handleBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(AssessmentPage, \"S3hrXSeA57vOo0ncZQwwjFhOcew=\", false, function () {\n  return [useNavigate];\n});\n_c = AssessmentPage;\nexport default AssessmentPage;\nvar _c;\n$RefreshReg$(_c, \"AssessmentPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ProgressBar","LoadingSpinner","PersonalDetailsForm","PhysicalDetailsForm","EducationDetailsForm","OLQTestForm","assessmentService","recommendationService","jsxDEV","_jsxDEV","Fragment","_Fragment","AssessmentPage","_s","navigate","currentStep","setCurrentStep","assessmentId","setAssessmentId","loading","setLoading","error","setError","steps","handlePersonalSubmit","data","response","startAssessment","assessment_id","err","_err$response","_err$response$data","detail","handlePhysicalSubmit","updatePhysical","_err$response2","_err$response2$data","handleEducationSubmit","updateEducation","_err$response3","_err$response3$data","handleOLQSubmit","responses","sessionId","submitOLQ","recommendation","generateRecommendations","recommendation_id","_err$response4","_err$response4$data","handleBack","className","children","fileName","_jsxFileName","lineNumber","columnNumber","totalSteps","length","message","onSubmit","onBack","_c","$RefreshReg$"],"sources":["/Users/sahil/Desktop/project1/frontend/src/pages/AssessmentPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ProgressBar from '../components/ProgressBar';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport PersonalDetailsForm from '../components/PersonalDetailsForm';\nimport PhysicalDetailsForm from '../components/PhysicalDetailsForm';\nimport EducationDetailsForm from '../components/EducationDetailsForm';\nimport OLQTestForm from '../components/OLQTestForm';\nimport { assessmentService, recommendationService } from '../services/api';\n\nconst AssessmentPage = () => {\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [assessmentId, setAssessmentId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const steps = ['Personal', 'Physical', 'Education', 'OLQ Test'];\n\n  const handlePersonalSubmit = async (data) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await assessmentService.startAssessment(data);\n      setAssessmentId(response.assessment_id);\n      setCurrentStep(1);\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Failed to start assessment');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePhysicalSubmit = async (data) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await assessmentService.updatePhysical(assessmentId, data);\n      setCurrentStep(2);\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Failed to save physical details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEducationSubmit = async (data) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await assessmentService.updateEducation(assessmentId, data);\n      setCurrentStep(3);\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Failed to save education details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleOLQSubmit = async (responses, sessionId) => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Submit OLQ responses with session_id\n      await assessmentService.submitOLQ({\n        assessment_id: assessmentId,\n        responses: responses,\n      }, sessionId);\n\n      // Generate recommendations\n      const recommendation = await recommendationService.generateRecommendations(assessmentId);\n      \n      // Navigate to recommendation page\n      navigate(`/recommendation/${recommendation.recommendation_id}`);\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Failed to generate recommendations');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 max-w-4xl\">\n      <div className=\"card\">\n        <h1 className=\"text-3xl font-bold text-center mb-8 text-gray-800\">\n          Career Assessment\n        </h1>\n\n        <ProgressBar currentStep={currentStep} totalSteps={steps.length} steps={steps} />\n\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6\">\n            {error}\n          </div>\n        )}\n\n        {loading ? (\n          <LoadingSpinner message=\"Processing...\" />\n        ) : (\n          <>\n            {currentStep === 0 && <PersonalDetailsForm onSubmit={handlePersonalSubmit} />}\n            {currentStep === 1 && (\n              <PhysicalDetailsForm onSubmit={handlePhysicalSubmit} onBack={handleBack} />\n            )}\n            {currentStep === 2 && (\n              <EducationDetailsForm onSubmit={handleEducationSubmit} onBack={handleBack} />\n            )}\n            {currentStep === 3 && (\n              <OLQTestForm onSubmit={handleOLQSubmit} onBack={handleBack} />\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AssessmentPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}